package banco.conta;

import java.util.List;
import java.util.Scanner;

public class Conta {

    // ATRIBUTOS
    private static int SEQUENCIAL = 1000;
    private static final int AGENCIA_PADRAO = 100;
    protected int agencia;
    protected int numeroConta;
    protected double saldo;
    protected String nome;
    protected String tipo;
    List<String> extrato;

    Scanner scan = new Scanner(System.in);


    // CONSTRUCTOR
    public Conta(String nome) {
        this.agencia = Conta.AGENCIA_PADRAO;
        this.numeroConta = SEQUENCIAL++;
        this.nome = nome;
    }

    // GETTERS
    public int getAgencia() {
        return agencia;
    }

    public int getNumeroConta() {
        return numeroConta;
    }

    public double mostrarSaldo() {
        return saldo;
    }

    public String getNome() {
        return nome;
    }

    public String getTipo() {
        return tipo;
    }



    // SETTERS
    public void setNome(String nome) {
        this.nome = nome;
    }

    public void depositar() {
        System.out.println("Valor a ser depositado: ");
        double valor = scan.nextDouble();
        this.saldo += valor;
        salvarAtividadeParaExtrato("DEPÓSITO", valor);
    }

    public void sacar() {
        double valor;
        System.out.println("Valor: ");
        valor = scan.nextDouble();

        if(this.saldo > valor) {
            this.saldo = this.saldo - valor;
            System.out.printf("Foi sacado o falor de %.2f Reais.%n", valor);
            System.out.printf("Novo Saldo: %.2f%n", mostrarSaldo());
            salvarAtividadeParaExtrato("SAQUE", valor);
        }
    }

    protected void salvarAtividadeParaExtrato(String transacao, double valor) {
        String item = transacao + "\nValor: " + String.valueOf(valor);
        extrato.add(item);
    }

    public void mostrarExtrato() {
        System.out.println("EXTRATO DA CONTA:");
        for(String atividade : extrato) {
            System.out.println(atividade);
        }
    }

}

///


// ATRIBUTOS
    private String extrato;
    private double limiteCredito = 350;
    Scanner scan = new Scanner(System.in);

    // CONSTRUCTOR
    public ContaCorrente(String nome) {
        super(nome);
        this.tipo = "CC";

    }

    //SETTERS
    public void setLimiteCredito(double novoLimite) {
        this.limiteCredito = novoLimite;
    }

    // GETTERS
    public double getLimiteCredito() {
        return limiteCredito;
    }


    @Override
    public int getAgencia() {
        return 0;
    }

    @Override
    public int getNumeroConta() {
        return 0;
    }

    @Override
    public double getSaldo() {
        return 0;
    }

    @Override
    public String getNome() {
        return null;
    }

    @Override
    public String getTipo() {
        return null;
    }

    @Override
    public void setNome(String nome) {

    }

    @Override
    public void depositar() {

    }

    @Override
    public void sacar() {
        double valor;
        System.out.println("Valor: ");
        valor = scan.nextDouble();
        if(valor > this.saldo + this.limiteCredito) {
            System.out.println("Valor ultrapassa limite disponível");
        } else if(valor <= this.saldo) {
            this.saldo -= valor;
            System.out.println("Saque realizado com sucesso!");
            mostrarSaldo();
            salvarAtividadeParaExtrato("SAQUE", valor);
        } else if(valor >= this.saldo && valor <= this.saldo + this.limiteCredito) {
            this.limiteCredito = limiteCredito - (valor - this.saldo);
            this.saldo = 0;
            System.out.println("Saque utilizando limite de crédito foi realizado com sucesso");
            mostrarSaldo();
            salvarAtividadeParaExtrato("SAQUE UTIL. LIMITE", valor);
            System.out.printf("Limite de crédito disponível: %.2f%n", this.getLimiteCredito());
        }
    }

    @Override
    public void salvarAtividadeParaExtrato(String transacao, double valor) {

    }

    @Override
    public void getExtrato() {

    }

    public void transferirCC(ContaCorrente conta) {
        sacar();
        conta.depositar();
        System.out.printf("Foi transferida a quantia de %.2f para a conta %s%n", valor, conta.getNome());
        salvarAtividadeParaExtrato("TRANSFERÊNCIA", valor);
    }